{"version":3,"sources":["components/Enterprise/Diagram/Link/getEntityCoordinates.js"],"names":["getEntityCoordinates","entity","portRefs","nodeRefs","canvas","type","id","nodeEl","bbox","getBoundingClientRect","coordinates","width","height","portEl","x","y","undefined"],"mappings":";;;;;;;AAAA;;;;AAKA,IAAMA,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,MAAD,EAASC,QAAT,EAAmBC,QAAnB,EAA6BC,MAA7B,EAAwC;AACnE,MAAIH,MAAM,IAAIA,MAAM,CAACI,IAAP,KAAgB,MAA1B,IAAoCF,QAAQ,CAACF,MAAM,CAACA,MAAP,CAAcK,EAAf,CAAhD,EAAoE;AAClE,QAAMC,MAAM,GAAGJ,QAAQ,CAACF,MAAM,CAACA,MAAP,CAAcK,EAAf,CAAvB;AACA,QAAME,IAAI,GAAGD,MAAM,CAACE,qBAAP,EAAb;AACA,WAAO,CAACR,MAAM,CAACA,MAAP,CAAcS,WAAd,CAA0B,CAA1B,IAAgCF,IAAI,CAACG,KAAL,GAAa,CAA9C,EAAkDV,MAAM,CAACA,MAAP,CAAcS,WAAd,CAA0B,CAA1B,IAAgCF,IAAI,CAACI,MAAL,GAAc,CAAhG,CAAP;AACD;;AAED,MAAIV,QAAQ,IAAIA,QAAQ,CAACD,MAAM,CAACA,MAAP,CAAcK,EAAf,CAAxB,EAA4C;AAC1C,QAAMO,MAAM,GAAGX,QAAQ,CAACD,MAAM,CAACA,MAAP,CAAcK,EAAf,CAAvB;;AACA,QAAME,KAAI,GAAGK,MAAM,CAACJ,qBAAP,EAAb;;AAEA,WAAO,kCAAiB,CAACD,KAAI,CAACM,CAAL,GAAUN,KAAI,CAACG,KAAL,GAAa,CAAxB,EAA4BH,KAAI,CAACO,CAAL,GAAUP,KAAI,CAACI,MAAL,GAAc,CAApD,CAAjB,EAA0E,CAACR,MAAM,CAACU,CAAR,EAAWV,MAAM,CAACW,CAAlB,CAA1E,CAAP;AACD;;AAED,SAAOC,SAAP;AACD,CAfD;;eAiBehB,oB","sourcesContent":["import getRelativePoint from '../utils/getRelativePoint';\n\n/**\n * Return the coordinates of a given entity (node or port)\n */\nconst getEntityCoordinates = (entity, portRefs, nodeRefs, canvas) => {\n  if (entity && entity.type === 'node' && nodeRefs[entity.entity.id]) {\n    const nodeEl = nodeRefs[entity.entity.id];\n    const bbox = nodeEl.getBoundingClientRect();\n    return [entity.entity.coordinates[0] + (bbox.width / 2), entity.entity.coordinates[1] + (bbox.height / 2)];\n  }\n\n  if (portRefs && portRefs[entity.entity.id]) {\n    const portEl = portRefs[entity.entity.id];\n    const bbox = portEl.getBoundingClientRect();\n\n    return getRelativePoint([bbox.x + (bbox.width / 2), bbox.y + (bbox.height / 2)], [canvas.x, canvas.y]);\n  }\n\n  return undefined;\n};\n\nexport default getEntityCoordinates;\n"],"file":"getEntityCoordinates.js"}